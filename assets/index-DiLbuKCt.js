(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const i=[{color:"空色",item:"青いペン",number:"7",advice:"上を向いて歩こう！"},{color:"ひまわり色",item:"お気に入りの靴",number:"3",advice:"ラッキーはすぐそばにあるよ。"},{color:"白",item:"ハンカチ",number:"1",advice:"深呼吸を一度してみて。"}],a=document.getElementById("fortune-window"),u=document.getElementById("res-color"),m=document.getElementById("res-item"),f=document.getElementById("res-advice"),g=[document.getElementById("close-btn"),document.getElementById("close-btn-bottom")];function l(t,r){u.innerText=t.color,m.innerText=t.item,f.innerText=r?`(今日の運勢は確定済みです)
${t.advice}`:t.advice,a.classList.remove("hidden")}g.forEach(t=>{t&&t.addEventListener("click",()=>{a.classList.add("hidden")})});const d=document.querySelectorAll(".clickable-cloud"),y=Math.floor(Math.random()*d.length);d.forEach((t,r)=>{t.addEventListener("click",()=>{if(r===y){const n=new Date().toLocaleDateString(),c=localStorage.getItem("fortuneDate");let e;c===n?(e=JSON.parse(localStorage.getItem("todayFortune")),l(e,!0)):(e=i[Math.floor(Math.random()*i.length)],localStorage.setItem("fortuneDate",n),localStorage.setItem("todayFortune",JSON.stringify(e)),l(e,!1))}else t.classList.add("animate-shake"),setTimeout(()=>t.classList.remove("animate-shake"),400)})});
